<div class="container">
  <h2>Send Password Reset</h2>
  <mat-card>
    <div class="recover-form">
      <div *ngIf="email == ''">
        <mat-card-content>
          <form [formGroup]="recoverForm"
                (ngSubmit)="submitEmail()">
            <p>Please enter your email to search for your account.</p>
            <mat-form-field appearance="outline" color="accent">
              <mat-label>Email:</mat-label>
              <input matInput type="email" name="username" [formControl]="recoverForm.controls['email']">
              <mat-icon matSuffix>email</mat-icon>
              <mat-error *ngIf="recoverForm.controls['email'].invalid">{{getEmailError()}}</mat-error>
            </mat-form-field>
            <mat-card-actions>
              <button mat-raised-button class="submit" color="primary">Find Account</button>
              <button mat-raised-button class="submit" color="primary" routerLink="/login">Back to Login</button>
            </mat-card-actions>
          </form>
        </mat-card-content>
      </div>

      <div *ngIf="email != ''">
        <mat-card-title>Email Sent</mat-card-title>
        <mat-card-content>
          If an account was found with this email, a link was sent to {{email}}. <br>
          Please follow the link to reset your password.
        </mat-card-content>
        <mat-card-actions><a mat-raised-button class="submit" color="primary" routerLink="/login">Back to Login</a></mat-card-actions>
      </div>

    </div>
  </mat-card>
</div>
